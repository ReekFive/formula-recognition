# 公式识别器使用指南

## 功能介绍

公式识别器是一个智能工具，能够将数学公式图片转换为可编辑的LaTeX和MathML格式，特别优化了与Microsoft Word的兼容性。

## 主要特性

- 🎯 **高精度识别**：基于Pix2Text OCR引擎
- 🔄 **多格式输出**：支持LaTeX和MathML(Word兼容)
- 📱 **便捷操作**：支持拖拽上传和剪贴板粘贴
- ⚡ **快速响应**：实时识别和转换
- 💻 **桌面优化**：横版布局，适合桌面使用

## 快速开始

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 启动服务
```bash
python app.py
```

### 3. 访问应用
打开浏览器访问 `http://localhost:8081`

## 使用方法

### 上传图片
- **拖拽上传**：将公式图片拖拽到上传区域
- **点击上传**：点击上传区域选择图片文件
- **剪贴板粘贴**：使用Ctrl+V粘贴剪贴板中的图片

### 获取结果
系统会自动识别公式并提供两种格式：
- **LaTeX格式**：适用于LaTeX编辑器
- **MathML(Word)**：适用于Microsoft Word公式编辑器

### 复制使用
点击"复制"按钮即可将结果复制到剪贴板，然后粘贴到目标应用中。

## 支持的公式类型

- 基础数学公式：`E = mc^2`
- 分式：`\frac{a+b}{c+d}`
- 上下标：`x^2 + y_1`
- 根号：`\sqrt{x^2 + y^2}`
- 求和积分：`\sum_{i=1}^{n} x_i`, `\int_{0}^{\infty} e^{-x} dx`
- 希腊字母：`\alpha + eta = \gamma`
- 复杂表达式：`C_total (p,d)=ω(p)⋅C_census (p,d)+(1-ω(p))⋅|d-D_geo (p)|`

## 使用技巧

1. **图片质量**：确保公式图片清晰、对比度良好
2. **公式完整性**：图片中包含完整的数学公式
3. **格式选择**：
   - 使用LaTeX格式在LaTeX编辑器中
   - 使用MathML(Word)格式在Microsoft Word中
4. **错误处理**：如果识别不准确，尝试重新上传更清晰的图片

## 故障排除

### 识别不准确
- 检查图片是否清晰
- 确保公式没有遮挡或缺失
- 尝试调整图片对比度

### Word中显示异常
- 确保使用"MathML(Word)"格式
- 直接粘贴到Word的公式编辑器中
- 避免粘贴到普通文本区域

### 剪贴板粘贴无效
- 确保图片在剪贴板中
- 尝试使用其他浏览器
- 检查浏览器权限设置

## 技术说明

本工具使用以下技术栈：
- **OCR引擎**：Pix2Text（专门用于数学公式识别）
- **Web框架**：Flask
- **公式转换**：自定义LaTeX到MathML转换器
- **前端技术**：HTML5, CSS3, JavaScript

## 更新日志

### v1.0
- 基础公式识别功能
- LaTeX和MathML格式输出
- Web界面支持
- 剪贴板粘贴功能
- Word兼容性优化